<div class="row container-fluid">
    <div class="col-md-2 p-0 m-0">
        <app-sidebar></app-sidebar>
    </div>

    <div class="col-md-10">
        <div>
            <app-header></app-header>
        </div>


        <div class="mt-4">
            <h3>Create Schedule</h3>
            <form [formGroup]="scheduleForm" (ngSubmit)="onSubmit()">
              <div class="row mb-4">
                <div class="col-3">
                  <label class="form-label">Meeting with ...</label>
                  <input type="text" class="form-control" formControlName="meetingWith" placeholder="Name" />
                </div>
                <div class="col-3">
                  <label class="form-label">Meeting Date</label>
                  <input type="date" class="form-control" formControlName="meetingDate" />
                </div>
                <div class="col-3">
                  <label class="form-label">Meeting Time</label>
                  <input type="time" class="form-control" formControlName="meetingTime" />
                </div>
                <div class="col-3">
                    <label class="form-label">Mode of Meeting</label>
                    <select class="form-select" formControlName="modeOfMeeting">
                      <option value="" disabled selected>Select</option>
                      <option value="Online">Online</option>
                      <option value="Offline">Offline</option>
                    </select>
                  </div>
              </div>
          
              <div class="row mb-4">
               
                <div class="col-3" *ngIf="!isOnlineMeeting">
                  <label class="form-label">Meeting Venue</label>
                  <input type="text" class="form-control" formControlName="meetingVenue" placeholder="Venue Address" />
                </div>
                <div class="col-3" *ngIf="isOnlineMeeting">
                  <label class="form-label">Meeting URL</label>
                  <input type="text" class="form-control" formControlName="meetingUrl" placeholder="https://zoom.com" />
                </div>

                <div class="col-3">
                    <label class="form-label">Subject for Meeting</label>
                    <input type="text" class="form-control" formControlName="subject" placeholder="XYZ" />
                  </div>

                  <div class="col-3">
                    <label class="form-label">Reference Name</label>
                    <input type="text" id="referenceName" class="form-control" formControlName="referenceName"  placeholder="XYZ" />
                </div>
                <div class="col-3">
                    <label class="form-label">Guest Name</label>
                    <input type="text" id="guestName" class="form-control" formControlName="guestName" placeholder="XYZ" />
                </div>
              </div>
         
              <div class="row mb-4">
                <div class="col-3">
                  <label class="form-label">Email ID</label>
                  <input type="email" class="form-control" formControlName="emailId" placeholder="abc@gmail.com" />
                </div>
                <div class="col-3">
                  <label class="form-label">Phone No.</label>
                  <input type="text" class="form-control" formControlName="phoneNo" placeholder="1234567" />
                </div>
                <div class="col-3 d-flex align-items-end">
                  <button type="submit" class="btn w-100" style="background-color: #2B3C4E;color: white;">Add to Calendar</button>
                </div>
              </div>
            </form>
          </div>
          

        <hr>
<!-- 
        <div class="d-flex mb-2">
            <div class="col-6">
                <h4>Meeting Schedule</h4>

                <div class="col-7">
                    <label for="name" class="form-label">Name</label>
                    <input type="text" id="name" class="form-control" value="" placeholder="Name" />
                </div>
                <div class="d-flex meeting">
                    <div class="col-3">
                        <label for="name" class="form-label">Meeting Date</label>
                        <input type="date" id="name" class="form-control" value="" placeholder="Name" />
                    </div>
                    <div class="col-3">
                        <label for="srn" class="form-label">Mode of Meeting</label>
                        <select id="mode_meeting" class="form-select mb-2">
                            <option selected>Select</option>
                        </select>
                    </div>
                </div>
                <div class="col-7 d-flex justify-content-center">
                    <button class="btn submit">
                        Modify
                    </button>
                </div>
            </div>

            <div class="col-6">
                <h4>Modify Schedule</h4>

                <div class="d-flex meeting">
                    <div class="col-3">
                        <label for="name" class="form-label">Update Date</label>
                        <input type="date" id="name" class="form-control" value="" />
                    </div>
                    <div class="col-3">
                        <label for="name" class="form-label">Update Time</label>
                        <input type="time" id="name" class="form-control" value="" placeholder="Name" />
                    </div>
                </div>

                <div class="d-flex meeting">
                    <div class="col-3">
                        <label for="srn" class="form-label">Mode of Meeting</label>
                        <select id="mode_meeting" class="form-select mb-2">
                            <option selected>Select</option>
                        </select>
                    </div>
                    <div class="col-3">
                        <label for="name" class="form-label">Meeting URL</label>
                        <input type="text" id="name" class="form-control" value="" placeholder="https://abc.com" />
                    </div>         
                </div>

                <div class="d-flex meeting">
                    <div class="col-3">
                        <label for="name" class="form-label">Email ID</label>
                        <input type="email" id="name" class="form-control" value="" placeholder="abc@gmail.com" />
                    </div> 
                    <div class="col-3">
                        <label for="name" class="form-label">Phone No.</label>
                        <input type="text" id="name" class="form-control" value="" placeholder="1234567" />
                    </div>         
                </div>

                <div class="col-7 d-flex justify-content-center mt-2">
                    <button class="btn submit">
                        Update in Calendar
                    </button>
                </div>
            </div>
        </div> -->

        <div class="container mt-4">
          <h4>Meeting Schedule</h4>
          <table class="table table-bordered">
              <thead class="table-dark">
                  <tr>
                      <th>Name</th>
                      <th>Meeting Date</th>
                      <th>Meeting Time</th>
                      <th>Mode of Meeting</th>
                      <th>Meeting URL/Venue</th>
                      <th>Email ID</th>
                      <th>Phone No.</th>
                      <th>Update Meeting</th>
                  </tr>
              </thead>
              <tbody>
                  <tr *ngFor="let meeting of meetings">
                      <td>{{ meeting.meeting_with }}</td>
                      <td>{{ meeting.meeting_date | date: 'dd-MM-yyyy' }}</td>
                      <td>{{ meeting.meeting_time }}</td>
                      <td>{{ meeting.mode_of_meeting }}</td>
                      <td>
                          <ng-container *ngIf="meeting.mode_of_meeting.toLowerCase() === 'online'; else offlineVenue">
                              <a *ngIf="meeting.meeting_url" [href]="meeting.meeting_url" target="_blank">
                                  {{ meeting.meeting_url }}
                              </a>
                              <span *ngIf="!meeting.meeting_url">N/A</span>
                          </ng-container>
                          <ng-template #offlineVenue>
                              <span *ngIf="meeting.meeting_venue">{{ meeting.meeting_venue }}</span>
                              <span *ngIf="!meeting.meeting_venue">N/A</span>
                          </ng-template>
                      </td>
                      <td>{{ meeting.email_id }}</td>
                      <td>{{ meeting.phone_no }}</td>
                      <td>
                        <button class="btn btn-primary" (click)="populateForm(meeting)">
                            Update
                        </button>
                    </td>
                    
                  </tr>
              </tbody>
          </table>
      </div>
      
      


    </div>
</div>