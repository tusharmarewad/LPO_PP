<div class="container-fluid">
    <div class="row">
      <div class="col-md-2 p-0">
        <app-sidebar></app-sidebar>
      </div>
      <div class="col-md-10">
        <app-header></app-header>
  
        <div class="container mt-2">
          <h3 class="fw-bold"> < Login & Project Details</h3>
          <table class="table table-bordered table-hover shadow mt-3">
            <thead class="thead-light">
              <tr>
                <th>Project ID</th>
                <th>Project Name</th>
                <th>Location</th>
                <th>Client Manager/BDM</th>
                <th>Data Type</th>
                <th>Update Status</th>
                <th>View</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of filteredTableData; let i = index">
                <td>{{ row.project_id }}</td>
                <td>{{ row.project_name }}</td>
                <td>{{ row.location }}</td>
                <td>{{ row.created_by_name }}</td>
                <td>{{ row. data_type  }}</td>
                <td>
                  <a href="#" class="text-primary" (click)="toggleDetails(i, $event)">Update</a>
                </td>
                <td>
                  <img src="/assets/Icons/file.svg" (click)="downloadProjectExcel(row.project_id)" style="cursor: pointer;" />
                </td>
                
              </tr>
            </tbody>
          </table>
  
          <!-- Expanded details section -->
<tr *ngIf="expandedRowIndex !== null && filteredTableData[expandedRowIndex]">
  <td>
    <div class="expanded-section">
      <div class="form-group col-md-2">
        <label>Project ID</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="filteredTableData[expandedRowIndex!].project_id"
          readonly
        />
      </div>
      <div class="form-group col-md-2">
        <label>Location</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="filteredTableData[expandedRowIndex!].location"
          readonly
        />
      </div>
      <div class="form-group col-md-2">
        <label>Project Name</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="filteredTableData[expandedRowIndex!].project_name"
          readonly
        />
      </div>
    </div>

    <div class="expanded-section">
      <div class="form-group col-md-2">
        <label>Data Type</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="filteredTableData[expandedRowIndex!].data_type"
          readonly
        />
      </div>
      <div class="form-group col-md-2">
        <label>Remark</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="remark"
          placeholder="Enter your remark"
        />
      </div>
      <div class="form-group col-md-3">
        <label>Update Status</label>
        <select
          id="status"
          class="form-select"
          [(ngModel)]="status"
        >
          <option value="" disabled selected>Select Status</option>
          <option value="Resubmit">Resubmit</option>
          <option value="Approve">Approve</option>
          <option value="Cancel">Cancel</option>
        </select>
      </div>
      <div class="col-md-2 d-flex align-items-end">
        <button
          class="btn w-100 text-white"
          (click)="onSubmit()"
        >Submit</button>
      </div>
    </div>
  </td>
</tr>

        </div>
      </div>
    </div>
  </div>
  
  